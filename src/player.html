<!DOCTYPE html>
<html>

<head>
    <title>SongsAlive Player</title>
    <link href="site.css" rel='stylesheet' type='text/css' />
</head>

<body>
    <div class="left-panel">
        <h1 class="title"><a href=".">SongsAlive</a> Player</h1>
        <h2 class="song-title"><a id="title" target="_blank"></a></h2>
    </div>

    <div id="playerchrome">
        <button id="fullScreenToggleButton" class="playerchromebutton" title="Full screen
Open full screen before playing start.">□</button>
        <div id="player"></div>
    </div>
    
    <div id="control" class="disabled">
        <button id="playButton">Play</button>
        <button id="pauseButton">Pause</button>
        Volume: <span id="volumeValue"></span>
        <button id="volumeUpButton">↑</button>
        <button id="volumeDownButton">↓</button>
        <button id="muteButton">Mute</button>
    </div>

    <br />
    <div>
        <div class="oneSection">
            <div>Current: <span id="currentSectionTitle"></span>
                <span id="currentSectionDuration" class="sectionDuration"></span></div>
            <div id="currentSectionDetail" class="sectionDetail"></div>
        </div>

        <div class="oneSection">
            <div>Next: <span id="nextSectionTitle"></span>
                <span id="nextSectionDuration" class="sectionDuration"></span></div>
            <div id="nextSectionDetail" class="sectionDetail"></div>
        </div>
    </div>

    <div class="allSections">
        Played: <span id="allSections"></span>
    </div>

    <div class="sections">
        <!-- <div class="sectionsHeader">
            <div>名稱</div>
            <div class="sectionsDetail">內容</div>
            <div>長度</div>
        </div> -->
        <ul id="sectionsList"></ul>
    </div>

    <script type="module">
        import { YouTubePlayer } from './youtube2.js';
        import { SongProcessor } from './song2.js';

        const songProcessor = new SongProcessor();
        const youTubePlayer = new YouTubePlayer();

        window.onYouTubeIframeAPIReady = () => youTubePlayer.onYouTubeIframeAPIReady();

        const song = await songProcessor.process();
        youTubePlayer.loadPlayer(song);
        songProcessor.processSong(song);
        youTubePlayer.setSelectSections();
    </script>
</body>

</html>